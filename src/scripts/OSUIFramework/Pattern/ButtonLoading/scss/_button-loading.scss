/*! Patterns - Utilities - Button Loading */
////
/// @group Patterns-Button_Loading
/// Patterns - Utilities - Button Loading

/* NOTE:
	.btn-loading & .btn-label are selectors that are used to mantain retrocompatilibilty
*/

///
.osui-btn-loading {
	&.show-spinner-only {
		.btn {
			overflow: hidden;
			text-indent: -9999px;

			& > *:not(.btn-loading):not(.loading-spinner):not(.btn-label) {
				display: none;
			}
		}

		&.is--loading {
			.btn {
				.btn-label {
					display: none;
				}
			}
		}
	}

	&.is--loading:not(.show-spinner-only) {
		.btn {
			.btn-label {
				text-indent: var(--space-s);
			}
		}
	}

	&:not(.is--loading) {
		.btn {
			text-indent: initial;

			.loading-spinner {
				display: none;
			}
		}
	}

	.btn {
		text-indent: var(--space-s);

		& > * {
			text-indent: initial;
		}

		.btn-loading {
			margin: var(--space-none);
		}

		.loading-spinner {
			animation: loadingSpinner 850ms cubic-bezier(0.7, 1.05, 0.78, 0.78) infinite;
			border: var(--border-size-m) solid currentColor;
			border-radius: var(--border-radius-circle);
			border-top: var(--border-size-m) solid transparent;
			height: 16px;
			width: 16px;
			will-change: transform;

			// ServiceStudio Preview
			& {
				-servicestudio-margin-right: var(--space-s);
			}
		}
	}
}
